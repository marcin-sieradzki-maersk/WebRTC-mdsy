<!DOCTYPE html>
<!--
    Click to call widget usage example
-->
<html>

<head>
    <title>click-to-call example</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../css/c2c.css">
    <link rel="icon" href="favicon.png">

    <!-- 
        It's optional. Can be used to prevent cross origin vulnerability 
    <meta http-equiv="Content-Security-Policy" content="script-src 'self';">
    -->
    <script type="module" src="../src/main.js"></script>
    <script defer src="../conf/config.js"></script>
    <script defer src="../js/ac_webrtc.min.js"></script>
    <script defer src="../js/c2c_utils.js"></script>
    <script defer src="../js/c2c.js"></script>

    <!-- optional part, used only if set testCallSBCScore: false (browser voice quality test) 
        <script defer src="../js/voice_quality.js"></script>
     -->
</head>

<body>
    <img src="logo-audio-codes.svg" alt="AudioCodes" width="450" height="70">
    <div id="main_div">
        <h2>Click To Call Example</h2>
        <p>This page shows the AudioCodes click To call.</p>
        <p>This site is for Demo purpose only.</p>

        <!-- Optional connection speed. Used if defined in HTML and testCallEnabled in config.js -->
        <div id="c2c_connection_speed_div"></div>

        <!-- Optional test call quality. Used only if testCallEnabled in config.js -->
        <div id="c2c_test_call_quality_div"></div>

        <!-- 
		    Example of optional arbitrary form that user can fill before call. 
            Please define custom function c2c_create_x_header (see c2c.js)
            The function read the form data and create JSON that will be 
            attached to outgoing call INVITE as SIP X-Header
        
        <form id="user_order"">
            <label for="customer_name">Customer name:</label><br>
            <input type="text" id="customer_name" placeholder="first name" value=""><br>

            <label for="mobile">Mobile:</label><br>
            <input type="text" id="customer_mobile" placeholder="phone number" value=""><br>

            <label for="address">Address:</label><br>
            <input type="text" id="customer_address" placeholder="address" value=""><br>
        </form>
        -->

        <!-- click to call widget (call buttons and audio/video selection) -->
        <div id="c2c_widget_div">
            <!-- Optional select devices button  -->
            <mc-button icon="cog" id="c2c_select_devices_btn" title="Click to select devices (microphone, camera, speaker)">
            <span>Devices</span>
            </mc-button>
			
            <!-- Optional open/close keypad button. To send DTMF during call -->			
            <mc-button id="c2c_keypad_btn" title="Click to open/close keypad">
                <svg id="c2c_keypad_svg" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M120,100h70v70h-70zm90,0h70v70h-70zm90,0h70v70h-70zM120,190h70v70h-70zm90,0h70v70h-70zm90,0h70v70h-70zM120,280h70v70h-70zm90,0h70v70h-70zm90,0h70v70h-70zM120,370h70v70h-70zm90,0h70v70h-70zm90,0h70v70h-70z" fill="#1D1D1D"/></svg>
                <span>Keypad</span>
            </mc-button>


            <!-- Test call button (to check Phone-SBC line quality) -->
            <mc-button id="c2c_test_btn" title="Click to test connection quality">
                <span>Test line</span>
            </mc-button>

            &nbsp;

            <!-- Call button -->
            <mc-button icon="phone" id="c2c_call_btn" title="Click to call us on the phone">
                <span>Call</span>
            </mc-button>

            <!-- If configured 'user_control' before call show video checkbox -->
            <span id="c2c_video_chk_span">
                <input id="c2c_video_chk" type="checkbox" title="video call">
                video
            </span>

            <!-- If configured 'user_control' - during call show camera button  -->
            <mc-button icon="camera" id="c2c_camera_btn">

            </mc-button>

            <span id="c2c_self_video_chk_span">
                <input id="c2c_self_video_chk" type="checkbox" title="show local video">
                self video
            </span>

            <!-- Optional select devices div  -->
            <div id="c2c_select_devices_div">
                <form id="c2c_devices" onsubmit="event.preventDefault()">
                    <fieldset>
                        <legend>Select devices</legend>
                        <dev id="microphone_dev">
                        Microphone<br>
                        <select name="microphone">
                        </select>
                        <br>
                        <br>
                        </dev>
                        <dev id="speaker_dev">
                        Speaker<br>
                        <select name="speaker">
                        </select>
                        <br>
                        <br>
                        </dev>
                        <dev id="camera_dev">
                        Camera<br>
                        <select name="camera">
                        </select>
                        <br>
                        <br>
                        </dev>  
                    </fieldset>
                    <input id="select_devices_done_btn" type="button" value="Done">
                </form>
            </div>

            <!-- phone status line -->
            <div id="c2c_status_line"></div>

        </div>
		<!-- end of click to call widget -->

        <!-- Optional keypad div. To send DTMF during call -->
        <div id="c2c_keypad_div">
            <table id="c2c_keypad_table" cellpadding="5" cellspacing="3">
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>8</td>
                    <td>9</td>
                </tr>
                <tr>
                    <td>*</td>
                    <td>0</td>
                    <td>#</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- Video controls for WebRTC. Can be before or after widget buttons. Invisible for audio call -->
    <div id="c2c_video_div">
        <video id="c2c_local_video" style="display: none;" autoplay playsinline></video>
        <video id="c2c_remote_video" style="display: none;" autoplay playsinline></video>
    </div>

</body>

</html>